<!-- /html/body/div[1]/section/div[1]/div/div/div[4]/div/div[2]/div[2]/form/div[2]/div[1]/div[3]/div[2]/div[1]/label -->
<form class="form-horizontal" id="gatesconfigdeviceusersdatabase-form" action="/en/gatesconfig/settings/users/ajax/1/device_id/50550/number/372.html" method="post">
    <div style="display:none">
        <input type="hidden" value="2b2791a000932618ea9d0002d6bdd5a969bdfcfb" name="YII_CSRF_TOKEN"/>
    </div>
    <div class="container usersDatabase">
        <div class="row">
            <div class="col-md-4">
                <div class="row col-md-12">
                    <h2>Device user</h2>
                </div>
                <div class="row col-md-10 title">
                    <div class="control-group ">
                        <label class="control-label required" for="GatesconfigDeviceUsersdatabase_phone">
                            Phone <span class="required">*</span>
                        </label>
                        <div class="controls">
                            <input class="" maxlength="15" placeholder="International No. eg. 37060802312" onblur="
                            $(&quot;#GatesconfigDeviceUsersdatabase_app_username&quot;).val($(this).val());
                            $(&quot;#GatesconfigDeviceUsersdatabase_app_password&quot;).val($(this).val().substring($(this).val().length-6, $(this).val().length));" name="GatesconfigDeviceUsersdatabase[phone]" id="GatesconfigDeviceUsersdatabase_phone" type="text" value=""/>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_phone_em_" style="display: none"></span>
                        </div>
                    </div>
                    <script>
                        $(function() {
                            $('#GatesconfigDeviceUsersdatabase_phone').keyup(function(e) {
                                e.preventDefault();
                                $(this).val($(this).val().replace(/[^0-9]/g, ''));
                            });
                        });
                    </script>
                    <div class="control-group ">
                        <label class="control-label" for="GatesconfigDeviceUsersdatabase_user_name">Name</label>
                        <div class="controls">
                            <input maxlength="255" class="input-large" placeholder="Name" name="GatesconfigDeviceUsersdatabase[user_name]" id="GatesconfigDeviceUsersdatabase_user_name" type="text" value=""/>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_user_name_em_" style="display: none"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row col-md-12">
                    <h2>Mobile App Access</h2>
                </div>
                <div class="row col-md-10 title">
                    <div class="control-group ">
                        <label class="control-label" for="GatesconfigDeviceUsersdatabase_app">App Access</label>
                        <div class="controls">
                            <select onchange="if($(this).val()==1){$(&quot;#app-access&quot;).hide().removeClass(&quot;hidden&quot;).show(750);}else{$(&quot;#app-access&quot;).hide(750);}" class="app_access_select" name="GatesconfigDeviceUsersdatabase[app]" id="GatesconfigDeviceUsersdatabase_app">
                                <option value="0">Disabled</option>
                                <option value="1" selected="selected">Enabled</option>
                            </select>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_app_em_" style="display: none"></span>
                        </div>
                    </div>
                    <div id="app-access" class="">
                        <div class="control-group ">
                            <label class="control-label" for="GatesconfigDeviceUsersdatabase_app_username">Username</label>
                            <div class="controls">
                                <input disabled="disabled" name="GatesconfigDeviceUsersdatabase[app_username]" id="GatesconfigDeviceUsersdatabase_app_username" type="text" maxlength="255"/>
                                <span class="help-inline" id="GatesconfigDeviceUsersdatabase_app_username_em_" style="display: none"></span>
                            </div>
                        </div>
                        <div class="control-group ">
                            <label class="control-label" for="GatesconfigDeviceUsersdatabase_app_password">Password</label>
                            <div class="controls">
                                <input name="GatesconfigDeviceUsersdatabase[app_password]" id="GatesconfigDeviceUsersdatabase_app_password" type="text" maxlength="255"/>
                                <span class="help-inline" id="GatesconfigDeviceUsersdatabase_app_password_em_" style="display: none"></span>
                            </div>
                        </div>
                        <div style="margin-top: 20px;" class="btn-group">
                            <input type="checkbox" name="uid"/>
                            <span>Clear ID</span>
                            <i style="margin-top:5px;display: block;">Phone ID is used to identify unique users. Phone ID
                            will be set on first login via widget. If phone changed, check "Clear ID" and click save. On
                            the next login via widget ID will be updated.</i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row col-md-12">
                    <h2>Access Settings</h2>
                </div>
                <div class="row col-md-10 title">
                    <div class="control-group ">
                        <label class="control-label required" for="GatesconfigDeviceUsersdatabase_output">
                            Output <span class="required">*</span>
                        </label>
                        <div class="controls">
                            <select class="app_access_select" name="GatesconfigDeviceUsersdatabase[output]" id="GatesconfigDeviceUsersdatabase_output">
                                <option value="1" selected="selected">controller1</option>
                                <option value="2">controller2</option>
                                <option value="3">All</option>
                            </select>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_output_em_" style="display: none"></span>
                        </div>
                    </div>
                    <div class="control-group ">
                        <label class="control-label" for="GatesconfigDeviceUsersdatabase_schedulerList">Scheduler</label>
                        <div class="controls">
                            <input id="ytGatesconfigDeviceUsersdatabase_schedulerList" type="hidden" value="" name="GatesconfigDeviceUsersdatabase[schedulerList]"/>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_0" value="0" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_0">1</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_1" value="1" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_1">2</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_2" value="2" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_2">3</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_3" value="3" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_3">4</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_4" value="4" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_4">5</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_5" value="5" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_5">6</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_6" value="6" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_6">7</label>
                            </label>
                            <label class="checkbox inline">
                                <input style="margin-left:0;" class="input-small user_sheduler" id="GatesconfigDeviceUsersdatabase_schedulerList_7" value="7" type="checkbox" name="GatesconfigDeviceUsersdatabase[schedulerList][]"/>
                                <label for="GatesconfigDeviceUsersdatabase_schedulerList_7">8</label>
                            </label>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_schedulerList_em_" style="display: none"></span>
                        </div>
                    </div>
                    <div class="control-group ">
                        <label class="control-label" for="GatesconfigDeviceUsersdatabase_validuntildate">Valid Until Date</label>
                        <div class="controls">
                            <div class="input-append">
                                <input id="validUntilDate" class="accessTimers" data-provide="datepicker" placeholder="Unlimited" append="&lt;a class=&quot;set_unlimited btn btn-success&quot; onclick=&quot;$(&amp;#039;.accessTimers&amp;#039;).val(&amp;#039;&amp;#039;); $(&amp;#039;#validUntilTime&amp;#039;).attr(&amp;#039;disabled&amp;#039;,&amp;#039;disabled&amp;#039;);return false;&quot; href=&quot;#&quot;&gt;Set Unlimited&lt;/a&gt;" nospan="1" data-date-format="YYYY-MM-DD" name="GatesconfigDeviceUsersdatabase[validuntildate]" type="text"/>
                                <a class="set_unlimited btn btn-success" onclick="$(&#039;.accessTimers&#039;).val(&#039;&#039;); $(&#039;#validUntilTime&#039;).attr(&#039;disabled&#039;,&#039;disabled&#039;);return false;" href="#">Set Unlimited</a>
                            </div>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_validuntildate_em_" style="display: none"></span>
                        </div>
                    </div>
                    <div class="control-group ">
                        <label class="control-label" for="GatesconfigDeviceUsersdatabase_validuntiltime">Valid Until Time</label>
                        <div class="controls">
                            <div class="input-append">
                                <input data-date-format="HH:mm" data-hour-format="24" id="validUntilTime" class="input-mini accessTimers" data-provide="timepicker" disabled="disabled" placeholder="Unlimited" append="&lt;i class=&quot;fa fa-time&quot; style=&quot;pointer-events: none;&quot;&gt;&lt;/i&gt;" name="GatesconfigDeviceUsersdatabase[validuntiltime]" type="text"/>
                                <span class="add-on">
                                    <i class="fa fa-time" style="pointer-events: none;"></i>
                                </span>
                            </div>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_validuntiltime_em_" style="display: none"></span>
                        </div>
                    </div>
                    <div class="control-group ">
                        <label class="control-label" for="GatesconfigDeviceUsersdatabase_ring_counter">Ring Counter</label>
                        <div class="controls">
                            <div class="input-append">
                                <input class="input-small" append="" name="GatesconfigDeviceUsersdatabase[ring_counter]" id="GatesconfigDeviceUsersdatabase_ring_counter" type="text"/>
                                <span class="add-on"></span>
                            </div>
                            <span class="help-inline" id="GatesconfigDeviceUsersdatabase_ring_counter_em_" style="display: none"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid" style="float:right;">
            <div class="col-md-12" style="margin:40px 30px 30px 0px;">
                <button class="btn btn-primary" type="submit" name="yt0" id="yt0">Save</button>
                <a onclick="$(&quot;#ajaxform&quot;).slideUp(&quot;fast&quot;, function(){$(this).html(&quot;&quot;);});" class="btn btn-info">Cancel</a>
                <button class="btn" type="reset" name="yt1">Reset</button>
                <div class="required" style="margin: 20px 0px 0px 115px;">Fields with * are required.</div>
            </div>
        </div>
</form>
</div>
<div class="row">
    <hr style="border: 0px;height:1px;background: #CCCCCC;">
</div>
<script>
    $(function() {
        $('#validUntilDate').datetimepicker({
            pickTime: false
        }).on("dp.change", function(e) {
            $('#validUntilTime').attr('disabled', false).datetimepicker({
                pickDate: false,
                minuteStepping: 5
            });
        });
    });
</script>
<script type="text/javascript">
    /*<![CDATA[*/
    jQuery('#yt0').on('click', function() {
        jQuery.ajax({
            'type': 'post',
            'url': '/en/gatesconfig/settings/users/ajax/1/device_id/50550/number/372.html',
            'success': function(response) {
                if ($("#gatesconfig-device-usersdatabase-grid").length > 0) {
                    $.fn.yiiGridView.update("gatesconfig-device-usersdatabase-grid");
                }
                $("#ajaxform").slideUp("fast", function() {
                    $(this).html(response).slideDown("fast", function() {/*$(this).delay(3500).fadeOut(300);*/
                    });
                });
            },
            'cache': false,
            'data': jQuery(this).parents("form").serialize()
        });
        return false;
    });
    jQuery('#gatesconfigdeviceusersdatabase-form').yiiactiveform({
        'attributes': [{
            'id': 'GatesconfigDeviceUsersdatabase_phone',
            'inputID': 'GatesconfigDeviceUsersdatabase_phone',
            'errorID': 'GatesconfigDeviceUsersdatabase_phone_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[phone]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_user_name',
            'inputID': 'GatesconfigDeviceUsersdatabase_user_name',
            'errorID': 'GatesconfigDeviceUsersdatabase_user_name_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[user_name]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_app',
            'inputID': 'GatesconfigDeviceUsersdatabase_app',
            'errorID': 'GatesconfigDeviceUsersdatabase_app_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[app]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_app_username',
            'inputID': 'GatesconfigDeviceUsersdatabase_app_username',
            'errorID': 'GatesconfigDeviceUsersdatabase_app_username_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[app_username]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_app_password',
            'inputID': 'GatesconfigDeviceUsersdatabase_app_password',
            'errorID': 'GatesconfigDeviceUsersdatabase_app_password_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[app_password]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_output',
            'inputID': 'GatesconfigDeviceUsersdatabase_output',
            'errorID': 'GatesconfigDeviceUsersdatabase_output_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[output]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_schedulerList',
            'inputID': 'GatesconfigDeviceUsersdatabase_schedulerList',
            'errorID': 'GatesconfigDeviceUsersdatabase_schedulerList_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[schedulerList]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_validuntildate',
            'inputID': 'GatesconfigDeviceUsersdatabase_validuntildate',
            'errorID': 'GatesconfigDeviceUsersdatabase_validuntildate_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[validuntildate]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_validuntiltime',
            'inputID': 'GatesconfigDeviceUsersdatabase_validuntiltime',
            'errorID': 'GatesconfigDeviceUsersdatabase_validuntiltime_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[validuntiltime]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }, {
            'id': 'GatesconfigDeviceUsersdatabase_ring_counter',
            'inputID': 'GatesconfigDeviceUsersdatabase_ring_counter',
            'errorID': 'GatesconfigDeviceUsersdatabase_ring_counter_em_',
            'model': 'GatesconfigDeviceUsersdatabase',
            'name': 'GatesconfigDeviceUsersdatabase[ring_counter]',
            'enableAjaxValidation': true,
            'inputContainer': 'div.control-group',
            'status': 1
        }],
        'focus': '#GatesconfigDeviceUsersdatabase_phone',
        'errorCss': 'error'
    });
    /*]]>*/
</script>
